"use strict";(self.webpackChunkpayment_app=self.webpackChunkpayment_app||[]).push([[754],{9754:(G,d,m)=>{m.r(d),m.d(d,{PaymentModule:()=>F});var c=m(6895),p=m(6488),r=m(2218),i=m(7155),f=m(9526),t=m(1571),u=m(6475),h=m(3546);function y(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Id"),t.qZA())}function _(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.id," ")}}function g(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Sender"),t.qZA())}function C(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.sender," ")}}function P(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Receiver"),t.qZA())}function T(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.receiver," ")}}function D(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Total Amount"),t.qZA())}function x(e,a){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==n?null:n.totalAmount,"1.2-2")," ")}}function Z(e,a){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Total Paid Amount"),t.qZA())}function A(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"td",18),t.NdJ("click",function(){const s=t.CHM(n).$implicit,H=t.oxw();return t.KtG(H.viewPaymentsDetails(s.id,s.totalPaidAmount))}),t._uU(1),t.ALo(2,"number"),t.qZA()}if(2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==n?null:n.totalPaidAmount,"1.2-2")," ")}}function v(e,a){1&e&&(t.TgZ(0,"tr",19)(1,"td",20),t._uU(2," No information to display. "),t.qZA()())}function w(e,a){1&e&&t._UZ(0,"tr",21)}function N(e,a){1&e&&t._UZ(0,"tr",22)}function Y(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Id"),t.qZA())}function U(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.id," ")}}function z(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Sender"),t.qZA())}function B(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.sender," ")}}function Q(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Receiver"),t.qZA())}function I(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.receiver," ")}}function R(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Total Amount"),t.qZA())}function M(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==n?null:n.totalAmount,"1.2-2")," ")}}function q(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Paid Amount"),t.qZA())}function J(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==n?null:n.paidAmount,"1.2-2")," ")}}function j(e,a){1&e&&(t.TgZ(0,"tr",16)(1,"td",17),t._uU(2," No information to display. "),t.qZA()())}function O(e,a){1&e&&t._UZ(0,"tr",18)}function b(e,a){1&e&&t._UZ(0,"tr",19)}const $=[{path:"",children:[{path:"",component:(()=>{class e{constructor(n,o,l){this.appService=n,this.router=o,this.cdr=l,this.pageIndex=0,this.pageSize=10,this.ELEMENT_DATA=[],this.displayedColumns=["id","sender","receiver","totalAmount","totalPaidAmount"],this.pageSizes=[2,3,4,5,7,10],this.dataSource=new i.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.loadPayments()}loadPayments(){this.appService.getPayments(this.pageIndex,this.pageSize).then(n=>{this.payments=n.data.payments,this.payments.length=n.data.totalItems,this.dataSource=new i.by(this.payments),this.dataSource.paginator=this.paginator,this.cdr.detectChanges(),setTimeout(()=>{console.log("SMD")},1e3)})}pageChanged(n){this.pageIndex=n.pageIndex,this.pageSize=n.pageSize,this.getNextData(this.pageSize*this.pageIndex,this.pageIndex,this.pageSize)}getNextData(n,o,l){this.appService.getPayments(o,l).then(s=>{this.payments.push(s.data.payments),this.payments.length=s.data.totalItems,this.dataSource=new i.by(this.payments),this.dataSource.paginator=this.paginator,this.cdr.detectChanges()})}viewPaymentsDetails(n,o){0!=o?this.router.navigate([f.g.URL.PAYMENT_DETAILS,n]):iziToast.info({title:"Error !",position:"topRight",message:"Instalment payment not found !"})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.z),t.Y36(p.F0),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-payments"]],viewQuery:function(n,o){if(1&n&&t.Gf(r.NW,5),2&n){let l;t.iGM(l=t.CRH())&&(o.paginator=l.first)}},decls:26,vars:5,consts:[[1,"container"],[1,"title"],[1,"mat-elevation-z8"],["mat-table","",1,"table-striped",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sender"],["matColumnDef","receiver"],["matColumnDef","totalAmount"],["matColumnDef","totalPaidAmount"],["mat-cell","",3,"click",4,"matCellDef"],["class","mat-row",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"showFirstLastButtons","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"click"],[1,"mat-row"],["colspan","9999",1,"mat-cell","text-center"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"div",1)(3,"h2"),t._uU(4,"Parent Payments Details"),t.qZA()(),t.TgZ(5,"div",2)(6,"table",3),t.ynx(7,4),t.YNc(8,y,2,0,"th",5),t.YNc(9,_,2,1,"td",6),t.BQk(),t.ynx(10,7),t.YNc(11,g,2,0,"th",5),t.YNc(12,C,2,1,"td",6),t.BQk(),t.ynx(13,8),t.YNc(14,P,2,0,"th",5),t.YNc(15,T,2,1,"td",6),t.BQk(),t.ynx(16,9),t.YNc(17,D,2,0,"th",5),t.YNc(18,x,3,4,"td",6),t.BQk(),t.ynx(19,10),t.YNc(20,Z,2,0,"th",5),t.YNc(21,A,3,4,"td",11),t.BQk(),t.YNc(22,v,3,0,"tr",12),t.YNc(23,w,1,0,"tr",13),t.YNc(24,N,1,0,"tr",14),t.qZA(),t.TgZ(25,"mat-paginator",15),t.NdJ("page",function(s){return o.pageChanged(s)}),t.qZA()()()()),2&n&&(t.xp6(6),t.Q6J("dataSource",o.dataSource),t.xp6(17),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("pageSizeOptions",o.pageSizes))},dependencies:[i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,i.Ee,h.a8,r.NW,c.JJ],styles:["table[_ngcontent-%COMP%]{width:100%}.full-width[_ngcontent-%COMP%]{font-size:14px;width:100%}.title[_ngcontent-%COMP%]{padding:20px}"]}),e})()},{path:"details/:id",component:(()=>{class e{constructor(n,o,l){this.appService=n,this.route=o,this.cdr=l,this.displayedColumns=["id","sender","receiver","totalAmount","paidAmount"],this.dataSource=new i.by}ngOnInit(){this.route.paramMap.subscribe(n=>{this.paymentId=n.get("id")}),this.paymentId&&this.getPaymentDetails(this.paymentId)}getPaymentDetails(n){this.appService.getPaymentDetails(n).then(o=>{this.paymentDetails=o.data,this.dataSource=new i.by(this.paymentDetails),this.cdr.detectChanges()})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.z),t.Y36(p.gz),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment-details"]],decls:25,vars:3,consts:[[1,"container"],[1,"title"],[1,"mat-elevation-z8"],["mat-table","",1,"table-striped",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sender"],["matColumnDef","receiver"],["matColumnDef","totalAmount"],["matColumnDef","paidAmount"],["class","mat-row",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"mat-row"],["colspan","9999",1,"mat-cell","text-center"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"div",1)(3,"h2"),t._uU(4," Payment instalment Details"),t.qZA()(),t.TgZ(5,"div",2)(6,"table",3),t.ynx(7,4),t.YNc(8,Y,2,0,"th",5),t.YNc(9,U,2,1,"td",6),t.BQk(),t.ynx(10,7),t.YNc(11,z,2,0,"th",5),t.YNc(12,B,2,1,"td",6),t.BQk(),t.ynx(13,8),t.YNc(14,Q,2,0,"th",5),t.YNc(15,I,2,1,"td",6),t.BQk(),t.ynx(16,9),t.YNc(17,R,2,0,"th",5),t.YNc(18,M,3,4,"td",6),t.BQk(),t.ynx(19,10),t.YNc(20,q,2,0,"th",5),t.YNc(21,J,3,4,"td",6),t.BQk(),t.YNc(22,j,3,0,"tr",11),t.YNc(23,O,1,0,"tr",12),t.YNc(24,b,1,0,"tr",13),t.qZA()()()()),2&n&&(t.xp6(6),t.Q6J("dataSource",o.dataSource),t.xp6(17),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,i.Ee,h.a8,c.JJ],styles:["table[_ngcontent-%COMP%]{width:100%}.full-width[_ngcontent-%COMP%]{font-size:14px;width:100%}.title[_ngcontent-%COMP%]{padding:20px}"]}),e})()}]}];let L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild($),p.Bz]}),e})();var k=m(433),E=m(706);let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,L,E.q,k.UX]}),e})()}}]);